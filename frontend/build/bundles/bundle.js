var APP=APP||{};APP.ExchangeRates={model:{},view:{},controller:{},config:{requestURL:"index.php"}},function(app){var _requestURL=app.ExchangeRates.config.requestURL,_view=null,registerView=function(view){_view=view},getExchangeRates=function(){var request=new XMLHttpRequest;request.open("GET",_requestURL,!0),request.send(),request.onreadystatechange=function(){4===request.readyState&&200===request.status&&_view.render(JSON.parse(request.response))}};app.ExchangeRates.model={registerView:registerView,getExchangeRates:getExchangeRates}}(APP),function(app){var container=document.getElementById("exchange-rates");container.innerHTML="loading..";var render=function(data){container.innerHTML='<div title="курс доллара (USD) к рублю"id="exchange-rates__currency_USD"class="exchange-rates__currency exchange-rates__currency_USD">'+data.USD.toFixed(2)+'</div><div title="курс евро (EUR) к рублю"id="exchange-rates__currency_EUR"class="exchange-rates__currency exchange-rates__currency_EUR">'+data.EUR.toFixed(2)+"</div>"};app.ExchangeRates.view={render:render}}(APP),function(app){var model=app.ExchangeRates.model,onLoad=function(){model.getExchangeRates()};app.ExchangeRates.controller={onLoad:onLoad}}(APP),function(app){var model=app.ExchangeRates.model,view=app.ExchangeRates.view,controller=app.ExchangeRates.controller;model.registerView(view),window.addEventListener("load",function(){controller.onLoad()})}(APP);
